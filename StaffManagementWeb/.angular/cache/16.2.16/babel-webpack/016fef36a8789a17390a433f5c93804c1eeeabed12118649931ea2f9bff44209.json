{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/ssanstar/Desktop/Company_Projects/Personal/StaffManagement.Web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/staff.service\";\nfunction StaffListComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function StaffListComponent_tr_16_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const s_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.delete(s_r1.staffId));\n    });\n    i0.ɵɵtext(12, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const s_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r1.staffId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r1.fullName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 4, s_r1.birthday));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(s_r1.gender === 1 ? \"Male\" : \"Female\");\n  }\n}\nexport class StaffListComponent {\n  constructor(staffService) {\n    this.staffService = staffService;\n    this.staffs = [];\n    this.showModal = false;\n    this.isEdit = false;\n    this.staffForm = {\n      staffId: '',\n      fullName: '',\n      birthday: '',\n      gender: 1\n    };\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.load();\n    })();\n  }\n  load() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.staffs = yield _this2.staffService.getAll();\n    })();\n  }\n  openAdd() {\n    this.isEdit = false;\n    this.staffForm = {\n      staffId: '',\n      fullName: '',\n      birthday: '',\n      gender: 1\n    };\n    this.showModal = true;\n  }\n  openEdit(staff) {\n    this.isEdit = true;\n    this.staffForm = {\n      ...staff\n    };\n    this.showModal = true;\n  }\n  close() {\n    this.showModal = false;\n  }\n  save() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this3.staffForm.fullName.trim()) return alert('Full name required!');\n      yield _this3.staffService.save(_this3.staffForm);\n      _this3.showModal = false;\n      yield _this3.load();\n    })();\n  }\n  delete(id) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      if (confirm('Delete this staff?')) {\n        yield _this4.staffService.delete(id);\n        yield _this4.load();\n      }\n    })();\n  }\n  static {\n    this.ɵfac = function StaffListComponent_Factory(t) {\n      return new (t || StaffListComponent)(i0.ɵɵdirectiveInject(i1.StaffService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: StaffListComponent,\n      selectors: [[\"app-staff-list\"]],\n      decls: 17,\n      vars: 1,\n      consts: [[1, \"container\", \"mt-3\"], [1, \"table\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"]],\n      template: function StaffListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\");\n          i0.ɵɵtext(2, \"Staff List\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"table\", 1)(4, \"thead\")(5, \"tr\")(6, \"th\");\n          i0.ɵɵtext(7, \"Staff ID\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"th\");\n          i0.ɵɵtext(9, \"Full Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"th\");\n          i0.ɵɵtext(11, \"Birthday\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"th\");\n          i0.ɵɵtext(13, \"Gender\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(14, \"th\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"tbody\");\n          i0.ɵɵtemplate(16, StaffListComponent_tr_16_Template, 13, 6, \"tr\", 2);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"ngForOf\", ctx.staffs);\n        }\n      },\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","StaffListComponent_tr_16_Template_button_click_11_listener","restoredCtx","ɵɵrestoreView","_r3","s_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","delete","staffId","ɵɵadvance","ɵɵtextInterpolate","fullName","ɵɵpipeBind1","birthday","gender","StaffListComponent","constructor","staffService","staffs","showModal","isEdit","staffForm","ngOnInit","_this","_asyncToGenerator","load","_this2","getAll","openAdd","openEdit","staff","close","save","_this3","trim","alert","id","_this4","confirm","ɵɵdirectiveInject","i1","StaffService","selectors","decls","vars","consts","template","StaffListComponent_Template","rf","ctx","ɵɵelement","ɵɵtemplate","StaffListComponent_tr_16_Template","ɵɵproperty"],"sources":["C:\\Users\\ssanstar\\Desktop\\Company_Projects\\Personal\\StaffManagement.Web\\src\\app\\components\\staff-list\\staff-list.component.ts","C:\\Users\\ssanstar\\Desktop\\Company_Projects\\Personal\\StaffManagement.Web\\src\\app\\components\\staff-list\\staff-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { StaffService, Staff } from 'src/app/services/staff.service';\n\n\n@Component({\n  selector: 'app-staff-list',\n  templateUrl: './staff-list.component.html',\n  styleUrls: ['./staff-list.component.css']\n})\nexport class StaffListComponent implements OnInit {\n  staffs: Staff[] = [];\n  showModal = false;\n  isEdit = false;\n  staffForm: Staff = { staffId: '', fullName: '', birthday: '', gender: 1 };\n\n  constructor(private staffService: StaffService) {}\n\n  async ngOnInit() {\n    await this.load();\n  }\n\n  async load() {\n    this.staffs = await this.staffService.getAll();\n  }\n\n  openAdd() {\n    this.isEdit = false;\n    this.staffForm = { staffId: '', fullName: '', birthday: '', gender: 1 };\n    this.showModal = true;\n  }\n\n  openEdit(staff: Staff) {\n    this.isEdit = true;\n    this.staffForm = { ...staff };\n    this.showModal = true;\n  }\n\n  close() {\n    this.showModal = false;\n  }\n\n  async save() {\n    if (!this.staffForm.fullName.trim()) return alert('Full name required!');\n    await this.staffService.save(this.staffForm);\n    this.showModal = false;\n    await this.load();\n  }\n\n  async delete(id: string) {\n    if (confirm('Delete this staff?')) {\n      await this.staffService.delete(id);\n      await this.load();\n    }\n  }\n}\n","<div class=\"container mt-3\">\n  <h3>Staff List</h3>\n  <table class=\"table table-bordered\">\n    <thead>\n      <tr>\n        <th>Staff ID</th>\n        <th>Full Name</th>\n        <th>Birthday</th>\n        <th>Gender</th>\n        <th></th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let s of staffs\">\n        <td>{{ s.staffId }}</td>\n        <td>{{ s.fullName }}</td>\n        <td>{{ s.birthday | date }}</td>\n        <td>{{ s.gender === 1 ? 'Male' : 'Female' }}</td>\n        <td>\n          <button class=\"btn btn-danger btn-sm\" (click)=\"delete(s.staffId)\">Delete</button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}